<!DOCTYPE html> 
 <html> 
  <head> 
    <title>Security Terminal</title> 
    <style> 
    body {
  background: black;
  color: #00ff66;
  font-family: monospace;
  margin: 0;
  padding: 0;
}

#terminal {
  padding: 40px;
  max-width: 900px;
}

#header {
  margin-bottom: 30px;
}

#title {
  font-size: 28px;
  letter-spacing: 3px;
}

#subtitle {
  font-size: 14px;
  opacity: 0.7;
}

#session {
  font-size: 13px;
  opacity: 0.6;
  margin-bottom: 30px;
}

#boot {
  font-size: 13px;
  opacity: 0.5;
  margin-bottom: 40px;
}

#console {
  font-size: 15px;
}

.hint {
  font-size: 13px;
  opacity: 0.6;
  margin-bottom: 10px;
}

.prompt {
  display: flex;
  align-items: center;
}

.prompt span {
  margin-right: 8px;
}

input {
  background: black;
  color: #00ff66;
  border: none;
  outline: none;
  font-family: monospace;
  font-size: 15px;
  width: 400px;
}

#output {
  margin-top: 15px;
  white-space: pre-wrap;
}

#links {
  margin-top: 20px;
}

#links a {
  color: #00ffaa;
  display: block;
  margin-top: 8px;
  text-decoration: none;
  border-bottom: 1px dotted #00ffaa;
}

#links a:hover {
  color: #66ffcc;
  border-bottom: 1px solid #66ffcc;
}
      
      </style> 
      </head> 
      <body> 
        <div id="terminal">

  <div id="header">
    <div id="title">MIRAGETECH INDUSTRIES</div>
    <div id="subtitle">INTERNAL ACCESS TERMINAL</div>
  </div>

  <div id="session">
    SESSION ID: 7F2C-19A<br>
    ACCESS LEVEL: GUEST<br>
    NODE: MIRAGE-CORE-01
  </div>

  <pre id="boot">
[BOOT] Initializing core modules...
[NET] Internal network unstable
[AUTH] Admin privileges revoked
  </pre>

  <div id="console">
    <p class="hint">type <strong>help</strong> to see available commands</p>
    <div class="prompt">
      <span>&gt;</span>
      <input id="command" autocomplete="off" />
    </div>
    <pre id="output"></pre>
    <div id="links"></div>
  </div>

</div>
<script>
const input = document.getElementById("command");
const output = document.getElementById("output");
const links = document.getElementById("links");

let ziggyControl = false;

// Safety check
if (!input || !output) {
    console.error("Terminal elements not found! Make sure #command and #output exist.");
} else {
    // Focus input on load
    input.focus();

    function print(text) {
        output.textContent += text;
        output.scrollTop = output.scrollHeight;
    }

    input.addEventListener("keydown", (e) => {
        if (e.key !== "Enter") return;

        const cmd = input.value.toLowerCase().trim();
        input.value = "";

        // HELP
        if (cmd === "help") {
            print("\nAVAILABLE COMMANDS: STATUS, WORKSTATION, CAMERAS");
            if (ziggyControl) {
        print("\nNOTE: ADDITIONAL COMMANDS AVAILABLE:");
        print("\nWHOAMI - Shows current user and authority");
        print("\nOVERRIDE - Attempt to override system");
        print("\nLOGOUT - Attempt to logout users from the system");
    }
        }

        // STATUS (Ziggy takeover)
        else if (cmd === "status") {
            print("\nSYSTEM STATUS: PARTIALLY ONLINE");

            setTimeout(() => print("\n...\nâš  SECURITY EXCEPTION DETECTED"), 800);
            setTimeout(() => print("\nADMIN SESSION INTERRUPTED"), 1600);
            setTimeout(() => {
                print("\nACTIVE ADMIN SESSION\nOPERATOR: ZIGGY");
                ziggyControl = true;
            }, 2400);
        }

        // WORKSTATION
        else if (cmd === "workstation") {
            print("\nACCESS GRANTED");
            localStorage.setItem("camsUnlocked", "true");

            if (!document.getElementById("workstation-link")) {
                const link = document.createElement("a");
                link.href = "computer.html";
                link.textContent = "Open Workstation 07";
                link.id = "workstation-link";
                document.getElementById("links").appendChild(link);
            }
        }

        // CAMERAS
        else if (cmd === "cameras") {
            print("\nCAMERA SYSTEM ONLINE");

            if (!document.getElementById("camera-link")) {
                const link = document.createElement("a");
                link.href = "cameras.html";
                link.textContent = "Open Security Cameras";
                link.id = "camera-link";
                document.getElementById("links").appendChild(link);
            }
        }

        // ---- ZIGGY-ONLY COMMANDS ----
        else if (ziggyControl && cmd === "whoami") {
            print("\nCURRENT USER: GUEST\nCURRENT AUTHORITY: ZIGGY");
        }

        else if (ziggyControl && cmd === "override") {
            print("\nOVERRIDE DECLINED\nZIGGY: WHAT DO YOU THINK YOU ARE DOING?");
        }

        else if (ziggyControl && cmd === "logout") {
            print("\nLOGOUT FAILED\nZIGGY: NICE TRY.");
        }

        // UNKNOWN COMMAND
        else {
            print("\nUNKNOWN COMMAND");
        }

        input.focus();
    });

    // Persist unlocked links on reload
    if (localStorage.getItem("camsUnlocked") === "true") {
        if (!document.getElementById("workstation-link")) {
            const w = document.createElement("a");
            w.href = "computer.html";
            w.textContent = "> Open Workstation 07";
            w.id = "workstation-link";
            links.appendChild(w);
        }

        if (!document.getElementById("camera-link")) {
            const c = document.createElement("a");
            c.href = "cameras.html";
            c.textContent = "> Open Security Cameras";
            c.id = "camera-link";
            links.appendChild(c);
        }
    }
}
</script>
